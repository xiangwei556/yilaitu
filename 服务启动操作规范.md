# 服务启动规范

## 快速启动

| 服务 | 目录 | 命令 | 端口 |
|------|------|------|------|
| 后端 | `backend` | `python -m uvicorn main:app --reload --port 8001` | 8001 |
| 前端 | `frontend` | `npm run dev` | 80 |

**启动顺序**: 后端 → 前端

## 一键启动脚本

```batch
:: start-all.bat
start "后端" cmd /k "cd /d d:/trae_projects/image-edit/backend && python -m uvicorn main:app --reload --port 8001"
start "前端" cmd /k "cd /d d:/trae_projects/image-edit/frontend && npm run dev"
```

## 验证

- 前端: http://yilaitu.com
- 后端: http://localhost:8001/docs

## 常见问题

| 问题 | 解决方案 |
|------|----------|
| 端口80被占用 | 管理员权限运行 |
| API 404 | 检查后端是否运行在8001端口 |
| Host被阻止 | 检查vite.config中allowedHosts配置 |
| 依赖缺失 | 前端`npm install` / 后端`pip install -r requirements.txt` |

## 注意

- `vite.config.js` 和 `vite.config.ts` 需同步修改
- 前端`/api`请求自动代理到后端8001端口
